source "$scripts_path/helpers.tcl"
source "$scripts_path/flow_helpers.tcl"

set platform "nangate45"
set tech_lef "../do_synth/3D_Nangate45_PDK/nangate_tech.lef"
set std_cell_lef "../do_synth/3D_Nangate45_PDK/nangate_stdcell_bottom_tier.lef"
set liberty_file "../do_synth/3D_Nangate45_PDK/nangate_typical_bottom_tier.lib"

set rams {fakeram45_64x32_bottom_tier fakeram45_64x32_top_tier fakeram45_1024x32_bottom_tier fakeram45_1024x32_top_tier fakeram45_16384x64_bottom_tier fakeram45_16384x64_top_tier fakeram45_8192x64_bottom_tier fakeram45_8192x64_top_tier}
set extra_lef {
../do_synth/3D_Nangate45_PDK/nangate_stdcell_top_tier_shrinked.lef 
../do_genram/results/fakeram45_64x32_3D/fakeram45_64x32_bottom_tier.lef
../do_genram/results/fakeram45_64x32_3D/fakeram45_64x32_top_tier_shrinked.lef 
../do_genram/results/fakeram45_1024x32_3D/fakeram45_1024x32_bottom_tier.lef
../do_genram/results/fakeram45_1024x32_3D/fakeram45_1024x32_top_tier_shrinked.lef 
../do_genram/results/fakeram45_16384x64_3D/fakeram45_16384x64_bottom_tier.lef
../do_genram/results/fakeram45_16384x64_3D/fakeram45_16384x64_top_tier_shrinked.lef 
../do_genram/results/fakeram45_8192x64_3D/fakeram45_8192x64_bottom_tier.lef
../do_genram/results/fakeram45_8192x64_3D/fakeram45_8192x64_top_tier_shrinked.lef 
}
set extra_liberty {
../do_synth/3D_Nangate45_PDK/nangate_typical_top_tier.lib
../do_genram/results/fakeram45_64x32_3D/fakeram45_64x32_bottom_tier.lib
../do_genram/results/fakeram45_64x32_3D/fakeram45_64x32_top_tier.lib 
../do_genram/results/fakeram45_1024x32_3D/fakeram45_1024x32_bottom_tier.lib
../do_genram/results/fakeram45_1024x32_3D/fakeram45_1024x32_top_tier.lib 
../do_genram/results/fakeram45_16384x64_3D/fakeram45_16384x64_bottom_tier.lib
../do_genram/results/fakeram45_16384x64_3D/fakeram45_16384x64_top_tier.lib 
../do_genram/results/fakeram45_8192x64_3D/fakeram45_8192x64_bottom_tier.lib
../do_genram/results/fakeram45_8192x64_3D/fakeram45_8192x64_top_tier.lib
}

set site "FreePDK45_38x28_10R_NP_162NW_34O"
set pdn_cfg "../do_synth/3D_Nangate45_PDK/Nangate45.pdn.tcl"
set tracks_file "../do_synth/3D_Nangate45_PDK/Nangate45.tracks"
set io_placer_hor_layer metal3_bottom_tier
set io_placer_ver_layer metal2_bottom_tier
set tapcell_args "-distance 120 \
      -tapcell_master TAPCELL_X1_bottom_tier \
      -endcap_master TAPCELL_X1_bottom_tier"

set global_place_density 0.7
# default value
set global_place_density_penalty 8e-5
# placement padding in SITE widths applied to both sides
set global_place_pad 2
set detail_place_pad 1

set macro_place_halo {22.4 15.12}
set macro_place_channel {18.8 19.95}

set layer_rc_file "../do_synth/3D_Nangate45_PDK/Nangate45.rc"
# equiv -resistance .0035 -capacitance .052
set wire_rc_layer "metal3_bottom_tier"
set wire_rc_layer_clk "metal6_bottom_tier"
set tielo_port {"LOGIC0_X1_bottom_tier/Z" "LOGIC0_X1_top_tier/Z"}
set tiehi_port {"LOGIC1_X1_bottom_tier/Z" "LOGIC1_X1_top_tier/Z"}
set dont_use {}
# tie hi/low instance to load separation (microns)
set tie_separation 5
set cts_buffer {BUF_X1_top_tier BUF_X2_top_tier  BUF_X4_top_tier BUF_X8_top_tier BUF_X16_top_tier BUF_X32_top_tier CLKBUF_X1_top_tier CLKBUF_X2_top_tier CLKBUF_X3_top_tier}
set cts_cluster_diameter 100
set filler_cells "FILLCELL*"

# global route
set global_routing_layers metal1_bottom_tier-metal1_top_tier
set global_routing_clock_layers metal1_bottom_tier-metal1_top_tier
set global_routing_layer_adjustments {{{metal2_bottom_tier-metal2_top_tier} 0.5}}

# detail route
set min_routing_layer metal1_bottom_tier
set max_routing_layer metal1_top_tier

set rcx_rules_file "../do_synth/3D_Nangate45_PDK/Nangate45.rcx_rules"

#### OPENROAD COMMANDS #######
read_libraries

##############################

# Local Variables:
# mode:tcl
# End:
